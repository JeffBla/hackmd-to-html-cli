// modified from https://github.com/beatgammit/deflate-js
function Deflate(){var c,l,t,o,a,u,i,s,d,h,_,e,f,x,v,m,w,g,C,b,y,p,A,I,S,k,U,z,D,E,L,Z,B,F,M,N,P,R,T,W,j,q,G,H,J,K,O,Q,V,X,Y,$,rr,nr,er,fr,tr=32768,or=0,ir=1,cr=2,lr=6,ar=!1,n=8192,ur=2*tr,dr=3,sr=258,hr=8192,_r=hr,xr=32768,vr=xr-1,mr=tr-1,wr=0,gr=4096,Cr=sr+dr+1,br=tr-Cr,yr=1,pr=15,Ar=7,Ir=29,Sr=256,kr=256,Ur=Sr+1+Ir,zr=30,Dr=19,Er=16,Lr=17,Zr=18,Br=2*Ur+1,Fr=parseInt((15+dr-1)/dr,10),Mr=null;function Nr(){this.fc=0,this.dl=0}function Pr(){this.dyn_tree=null,this.static_tree=null,this.extra_bits=null,this.extra_base=0,this.elems=0,this.max_length=0,this.max_code=0}function r(r,n,e,f){this.good_length=r,this.max_lazy=n,this.nice_length=e,this.max_chain=f}function Rr(){this.next=null,this.len=0,this.ptr=[],this.off=0}32768<hr&&console.error("error: INBUFSIZ is too small"),65536<tr<<1&&console.error("error: WSIZE is too large"),258!==sr&&console.error("error: Code too clever");var Tr=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Wr=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],jr=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],qr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Gr=[new r(0,0,0,0),new r(4,4,8,4),new r(4,5,16,8),new r(4,6,32,32),new r(4,4,16,16),new r(8,16,32,32),new r(8,16,128,128),new r(8,32,128,256),new r(32,128,258,1024),new r(32,258,258,4096)];function Hr(r){return _[tr+r]}function Jr(r,n){return _[tr+r]=n}function Kr(r){Mr[u+a++]=r,u+a===n&&function(){var r,n;if(0!==a){for(r=function(){var r;return null!==c?c=(r=c).next:r=new Rr,r.next=null,r.len=r.off=0,r}(),null===l?l=t=r:t=t.next=r,r.len=a-u,n=0;n<r.len;n++)r.ptr[n]=Mr[u+n];a=u=0}}()}function Or(r){r&=65535,u+a<n-2?(Mr[u+a++]=255&r,Mr[u+a++]=r>>>8):(Kr(255&r),Kr(r>>>8))}function Qr(){v=(v<<Fr^255&s[y+dr-1])&vr,m=Hr(v),_[y&mr]=m,Jr(v,y)}function Vr(r,n){vn(n[r].fc,n[r].dl)}function Xr(r){return 255&(r<256?H[r]:H[256+(r>>7)])}function Yr(r,n,e){return r[n].fc<r[e].fc||r[n].fc===r[e].fc&&q[n]<=q[e]}function $r(r,n,e){for(var f=0;f<e&&fr<er.length;f++)r[n+f]=255&er[fr++];return f}function rn(r){var n,e,f,t,o=S,i=y,c=b,l=br<y?y-br:wr,a=y+sr,u=s[i+c-1],d=s[i+c];z<=b&&(o>>=2);do{if(s[(n=r)+c]===d&&s[n+c-1]===u&&s[n]===s[i]&&s[++n]===s[i+1]){for(i+=2,n++;i<a;){for(t=!1,f=0;f<8;f+=1)if(n+=1,s[i+=1]!==s[n]){t=!0;break}if(t)break}if(e=sr-(a-i),i=a-sr,c<e){if(p=r,c=e,ar){if(sr<=e)break}else if(D<=e)break;u=s[i+c-1],d=s[i+c]}}}while((r=_[r&mr])>l&&0!=--o);return c}function nn(){var r,n,e=ur-I-y;if(-1===e)e--;else if(tr+br<=y){for(r=0;r<tr;r++)s[r]=s[r+tr];for(p-=tr,y-=tr,x-=tr,r=0;r<xr;r++)n=Hr(r),Jr(r,tr<=n?n-tr:wr);for(r=0;r<tr;r++)n=_[r],_[r]=tr<=n?n-tr:wr;e+=tr}A||((r=$r(s,y+I,e))<=0?A=!0:I+=r)}function en(){A||(f=e=0,function(){var r,n,e,f,t;if(0===B[0].dl){for(M.dyn_tree=E,M.static_tree=Z,M.extra_bits=Tr,M.extra_base=Sr+1,M.elems=Ur,M.max_length=pr,M.max_code=0,N.dyn_tree=L,N.static_tree=B,N.extra_bits=Wr,N.extra_base=0,N.elems=zr,N.max_length=pr,N.max_code=0,P.dyn_tree=F,P.static_tree=null,P.extra_bits=jr,P.extra_base=0,P.elems=Dr,P.max_length=Ar,P.max_code=0,f=e=0;f<Ir-1;f++)for(J[f]=e,r=0;r<1<<Tr[f];r++)G[e++]=f;for(G[e-1]=f,f=t=0;f<16;f++)for(K[f]=t,r=0;r<1<<Wr[f];r++)H[t++]=f;for(t>>=7;f<zr;f++)for(K[f]=t<<7,r=0;r<1<<Wr[f]-7;r++)H[256+t++]=f;for(n=0;n<=pr;n++)R[n]=0;for(r=0;r<=143;)Z[r++].dl=8,R[8]++;for(;r<=255;)Z[r++].dl=9,R[9]++;for(;r<=279;)Z[r++].dl=7,R[7]++;for(;r<=287;)Z[r++].dl=8,R[8]++;for(ln(Z,Ur+1),r=0;r<zr;r++)B[r].dl=5,B[r].fc=mn(r,5);on()}}(),function(){for(var r=0;r<xr;r++)_[tr+r]=0;if(k=Gr[U].max_lazy,z=Gr[U].good_length,ar||(D=Gr[U].nice_length),S=Gr[U].max_chain,(I=$r(s,x=y=0,2*tr))<=0)return A=!0,I=0;for(A=!1;I<Cr&&!A;)nn();for(r=v=0;r<dr-1;r++)v=(v<<Fr^255&s[r])&vr}(),l=null,u=a=0,U<=3?(b=dr-1,C=0):(C=dr-1,g=!1),i=!1)}function fn(r,n,e){var f;return o||(en(),o=!0,0!==I)?(f=tn(r,n,e))===e?e:i?f:((U<=3?function(){for(;0!==I&&null===l;){var r;if(Qr(),m!==wr&&y-m<=br&&(C=rn(m),I<C&&(C=I)),dr<=C)if(r=hn(y-p,C-dr),I-=C,C<=k){for(C--;y++,Qr(),0!=--C;);y++}else y+=C,C=0,v=((v=255&s[y])<<Fr^255&s[y+1])&vr;else r=hn(0,255&s[y]),I--,y++;for(r&&(sn(0),x=y);I<Cr&&!A;)nn()}}:function(){for(;0!==I&&null===l;){if(Qr(),b=C,w=p,C=dr-1,m!==wr&&b<k&&y-m<=br&&(C=rn(m),I<C&&(C=I),C===dr&&gr<y-p&&C--),dr<=b&&C<=b){var r=hn(y-1-w,b-dr);for(I-=b-1,b-=2;y++,Qr(),0!=--b;);g=!1,C=dr-1,y++,r&&(sn(0),x=y)}else g?hn(0,255&s[y-1])&&(sn(0),x=y):g=!0,y++,I--;for(;I<Cr&&!A;)nn()}})(),0===I&&(g&&hn(0,255&s[y-1]),sn(1),i=!0),f+tn(r,f+n,e-f)):(i=!0,0)}function tn(r,n,e){for(var f,t,o,i=0;null!==l&&i<e;){for((f=e-i)>l.len&&(f=l.len),t=0;t<f;t++)r[n+i+t]=l.ptr[l.off+t];l.off+=f,l.len-=f,i+=f,0===l.len&&(l=(o=l).next,(o=o).next=c,c=o)}if(i===e)return i;if(u<a){for(a-u<(f=e-i)&&(f=a-u),t=0;t<f;t++)r[n+i+t]=Mr[u+t];i+=f,a===(u+=f)&&(a=u=0)}return i}function on(){for(var r=0;r<Ur;r++)E[r].fc=0;for(r=0;r<zr;r++)L[r].fc=0;for(r=0;r<Dr;r++)F[r].fc=0;E[kr].fc=1,rr=nr=0,Q=V=X=0,Y=0,$=1}function cn(r,n){for(var e=T[n],f=n<<1;f<=W&&(f<W&&Yr(r,T[f+1],T[f])&&f++,!Yr(r,e,T[f]));)T[n]=T[f],n=f,f<<=1;T[n]=e}function ln(r,n){for(var e,f=[],t=0,o=1;o<=pr;o++)t=t+R[o-1]<<1,f[o]=t;for(e=0;e<=n;e++){var i=r[e].dl;0!==i&&(r[e].fc=mn(f[i]++,i))}}function an(h){var r,n,e=h.dyn_tree,f=h.static_tree,t=h.elems,o=-1,i=t;for(j=Br,r=W=0;r<t;r++)0!==e[r].fc?(T[++W]=o=r,q[r]=0):e[r].dl=0;for(;W<2;){var c=T[++W]=o<2?++o:0;e[c].fc=1,q[c]=0,rr--,null!==f&&(nr-=f[c].dl)}for(h.max_code=o,r=W>>1;1<=r;r--)cn(e,r);for(;r=T[yr],T[yr]=T[W--],cn(e,yr),n=T[yr],T[--j]=r,T[--j]=n,e[i].fc=e[r].fc+e[n].fc,q[r]>q[n]+1?q[i]=q[r]:q[i]=q[n]+1,e[r].dl=e[n].dl=i,T[yr]=i++,cn(e,yr),2<=W;);T[--j]=T[yr],function(){for(var r,n,e,f,t,o=h.dyn_tree,i=h.extra_bits,c=h.extra_base,l=h.max_code,a=h.max_length,u=h.static_tree,d=0,s=0;s<=pr;s++)R[s]=0;for(o[T[j]].dl=0,r=j+1;r<Br;r++)a<(s=o[o[n=T[r]].dl].dl+1)&&(s=a,d++),o[n].dl=s,l<n||(R[s]++,f=0,c<=n&&(f=i[n-c]),t=o[n].fc,rr+=t*(s+f),null!==u&&(nr+=t*(u[n].dl+f)));if(0!==d){do{for(s=a-1;0===R[s];)s--}while(R[s]--,R[s+1]+=2,R[a]--,0<(d-=2));for(s=a;0!==s;s--)for(n=R[s];0!==n;)l<(e=T[--r])||(o[e].dl!==s&&(rr+=(s-o[e].dl)*o[e].fc,o[e].fc=s),n--)}}(),ln(e,o)}function un(r,n){var e,f,t=-1,o=r[0].dl,i=0,c=7,l=4;for(0===o&&(c=138,l=3),r[n+1].dl=65535,e=0;e<=n;e++)f=o,o=r[e+1].dl,++i<c&&f===o||(i<l?F[f].fc+=i:0!==f?(f!==t&&F[f].fc++,F[Er].fc++):i<=10?F[Lr].fc++:F[Zr].fc++,t=f,l=(i=0)===o?(c=138,3):f===o?(c=6,3):(c=7,4))}function dn(r,n){var e,f,t=-1,o=r[0].dl,i=0,c=7,l=4;for(0===o&&(c=138,l=3),e=0;e<=n;e++)if(f=o,o=r[e+1].dl,!(++i<c&&f===o)){if(i<l)for(;Vr(f,F),0!=--i;);else 0!==f?(f!==t&&(Vr(f,F),i--),Vr(Er,F),vn(i-3,2)):i<=10?(Vr(Lr,F),vn(i-3,3)):(Vr(Zr,F),vn(i-11,7));t=f,l=(i=0)===o?(c=138,3):f===o?(c=6,3):(c=7,4)}}function sn(r){var n,e,f,t,o=y-x;if(O[X]=Y,an(M),an(N),f=function(){var r;for(un(E,M.max_code),un(L,N.max_code),an(P),r=Dr-1;3<=r&&0===F[qr[r]].dl;r--);return rr+=3*(r+1)+5+5+4,r}(),(e=nr+3+7>>3)<=(n=rr+3+7>>3)&&(n=e),4+o<=n&&0<=x)for(vn((or<<1)+r,3),wn(),Or(o),Or(~o),t=0;t<o;t++)Kr(s[x+t]);else e===n?(vn((ir<<1)+r,3),_n(Z,B)):(vn((cr<<1)+r,3),function(r,n,e){var f;for(vn(r-257,5),vn(n-1,5),vn(e-4,4),f=0;f<e;f++)vn(F[qr[f]].dl,3);dn(E,r-1),dn(L,n-1)}(M.max_code+1,N.max_code+1,f+1),_n(E,L));on(),0!==r&&wn()}function hn(r,n){if(h[Q++]=n,0===r?E[n].fc++:(r--,E[G[n]+Sr+1].fc++,L[Xr(r)].fc++,d[V++]=r,Y|=$),$<<=1,0==(7&Q)&&(O[X++]=Y,Y=0,$=1),2<U&&0==(4095&Q)){for(var e=8*Q,r=y-x,f=0;f<zr;f++)e+=L[f].fc*(5+Wr[f]);if(e>>=3,V<parseInt(Q/2,10)&&e<parseInt(r/2,10))return!0}return Q===hr-1||V===_r}function _n(r,n){var e,f,t,o=0,i=0,c=0,l=0;if(0!==Q)for(;0==(7&o)&&(l=O[c++]),e=255&h[o++],0==(1&l)?Vr(e,r):(Vr((f=G[e])+Sr+1,r),0!==(t=Tr[f])&&vn(e-=J[f],t),Vr(f=Xr(e=d[i++]),n),0!==(t=Wr[f])&&vn(e-=K[f],t)),l>>=1,o<Q;);Vr(kr,r)}var xn=16;function vn(r,n){xn-n<f?(Or(e|=r<<f),e=r>>xn-f,f+=n-xn):(e|=r<<f,f+=n)}function mn(r,n){for(var e=0;e|=1&r,r>>=1,e<<=1,0<--n;);return e>>1}function wn(){8<f?Or(e):0<f&&Kr(e),f=e=0}this.deflate=function(r,n){var e,f;for(er=r,fr=0,void 0===n&&(n=lr),function(r){var n;if(r?r<1?r=1:9<r&&(r=9):r=lr,U=r,A=o=!1,null===Mr){for(c=l=t=null,Mr=[],s=[],d=[],h=[],_=[],E=[],n=0;n<Br;n++)E[n]=new Nr;for(L=[],n=0;n<2*zr+1;n++)L[n]=new Nr;for(Z=[],n=0;n<Ur+2;n++)Z[n]=new Nr;for(B=[],n=0;n<zr;n++)B[n]=new Nr;for(F=[],n=0;n<2*Dr+1;n++)F[n]=new Nr;M=new Pr,N=new Pr,P=new Pr,R=[],T=[],q=[],G=[],H=[],J=[],K=[],O=[]}}(n),f=[];e=fn(f,f.length,1024),0<e;);return er=null,f}}function PlantUML(){function t(r){return r<10?String.fromCharCode(48+r):(r-=10)<26?String.fromCharCode(65+r):(r-=26)<26?String.fromCharCode(97+r):0==(r-=26)?"-":1==r?"_":"?"}function e(n,e,f){return c1=n>>2,c2=(3&n)<<4|e>>4,c3=(15&e)<<2|f>>6,c4=63&f,r="",r+=t(63&c1),r+=t(63&c2),r+=t(63&c3),r+=t(63&c4),r}this.generateURL=function(n){return n=new TextEncoder("utf-8").encode(n),n=(new Deflate).deflate(n,9),function(n){for(r="",i=0;i<n.length;i+=3)i+2==n.length?r+=e(n.charCodeAt(i),n.charCodeAt(i+1),0):i+1==n.length?r+=e(n.charCodeAt(i),0,0):r+=e(n.charCodeAt(i),n.charCodeAt(i+1),n.charCodeAt(i+2));return r}(String.fromCharCode.apply(null,n))}}